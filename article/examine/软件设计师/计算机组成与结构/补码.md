# 补码

计算机中的补码（Two's Complement）是一种**表示负数的方式**，广泛应用于计算机系统中。补码的优点包括简化了加减法的运算，也使得表示正数和负数的范围一致。以下是补码的详细解释及其计算方法。

## 补码的基本概念

- **补码的定义**：在n位二进制数中，一个数的补码是将该数的绝对值（绝对值以原码表示）取反（0变为1，1变为0），然后加1。

## 补码的表示

1. **正数的补码**：正数的补码与其原码相同。例如：
   - 原数 5（二进制 0101），补码仍为 0101。
   
2. **负数的补码**：负数的补码通过以下步骤计算：
   - 取该数的绝对值二进制表示（原码）。
   - 将原码的每一位取反（“1”变为“0”，“0”变为“1”）。
   - 对取反后的数加1。

### 示例：计算 -5 的补码

假设我们用8位二进制来表示数字。

1. **求原码**：
   - 5 的原码： `00000101`
  
2. **取反**：
   - `00000101` 取反后变为：`11111010`
  
3. **加1**：
   - `11111010` + `00000001` = `11111011`
   
所以，-5 的补码为 `11111011`。

## 补码的范围

- 在n位系统中，补码可以表示的数值范围为：
  - 正数范围：0 到 \( 2^{n-1} - 1 \)
  - 负数范围：-1 到 -\( 2^{n-1} \)

对于8位补码：
- 范围是从 -128 到 +127。

## 补码的运算

补码的主要优点之一是可以直接通过加法和减法进行运算，不需要区分正负数。例如：
- 对于两个数相加，直接相加即可，若有进位到第n位则被丢弃。

## 补码的优点

1. **统一运算**：加法、减法统一，可以使用相同的硬件电路。
2. **符号扩展**：在对负数进行移位时，可以保留符号位，保持数值的正确性。

## 总结

补码是一种有效的二进制数表示方法，尤其在计算机中对于整数的表示和算术运算中扮演着重要角色。通过补码的方式，计算机能够高效地处理正负数的运算，以及提高算术逻辑单元（ALU）的设计简洁性和有效性。


## 练习题

### 如果“2x”的补码是“90H”,那么x的真值是什么？

为了找到 \( x \) 的真值，我们首先需要理解给定的二进制补码表示。这里的“90H”是16进制（Hexadecimal）表示，首先我们可以将其转换为二进制格式。

#### 1. **转换十六进制到二进制**

“90H” 转换为二进制：

- \( 9 \) = \( 1001 \)
- \( 0 \) = \( 0000 \)

所以，90H 的二进制表示为：
\[
90H = 1001\ 0000_2
\]

#### 2. **确定补码的真值**

“2x”的补码是 \( 1001\ 0000_2 \)。在计算补码时，最高位（最左边）为符号位：
- 这意味着 \( 1001\ 0000_2 \) 是负数，因为它的符号位为1。

#### 3. **补码转换为真值**

要从补码转换为真值，可以使用以下步骤：

##### 3.1. 取反并加1

首先取反：
\[
1001\ 0000 \quad \text{取反} \quad \rightarrow \quad 0110\ 1111
\]

然后加1：
\[
0110\ 1111 + 0000\ 0001 = 0111\ 0000
\]

##### 3.2. 计算十进制值

将 \( 0111\ 0000_2 \) 转换为十进制：
\[
0111\ 0000_2 = 64 + 32 + 16 + 8 + 4 + 2 + 1 = 112
\]

#### 4. **得出结果**

由于原始值是负数，因此：
\[
-112
\]

#### 5. **求出 x 的真值**

“2x”的补码是负数，所以我们有：
\[
2x = -112
\]

因此计算出 \( x \) 的值：
\[
x = \frac{-112}{2} = -56
\]

#### 结论

所以，\( x \) 的真值是：**-56**

### 机器字长为n位的二进制数可以补码来表示（）个不同的有符号定点小数？

在讨论机器字长为 \( n \) 位的二进制数时，补码表示法允许我们表示有符号整数。对于有符号定点小数，补码的表示方式同样适用。

#### 1. **补码的可表示范围**

在补码表示中，符号位用于表示数值的正负：
- **第1位（符号位）**：0 表示正数，1 表示负数。
- **其余的 \( n - 1 \) 位** 用于表示数值本身。

所以对于 \( n \) 位的补码：
- **最大值**是 \( 2^{n-1} - 1 \)
- **最小值**是 \( -2^{n-1} \)

假设 \( n = 8 \)（即 8 位）：
- 8 位可以表示的总数为 \( 2^8 = 256 \)。
- 补码允许表示的有符号整数范围是从 \(-128\) 到 \(127\)，所以：
  - **正数**：从 \(0\) 到 \(127\)（128 个数）。
  - **负数**：从 \(-1\) 到 \(-128\)（128 个数）。

#### 2. **可表示的数值数量**

补码格式可以表示的不同有符号定点小数的个数为：
\[
2^n
\]
其中 \( n \) 位二进制数可以表示的总数是 \( 2^n \)。

#### 3. **结果**

因此，机器字长为 \( n \) 位的二进制数可以补码来表示 **\( 2^n \) 个不同的有符号定点小数**。

总结：
\[
\text{答案是 } 2^n
\]