# 移码

**移码**（Excess-N or biased representation）是一种用于表示有符号整数或浮点数的编码方式，特别是在浮点数表示中常用来处理指数部分。这种编码方式通过添加一个固定值（偏移量）来确保编码值始终为非负数，使得比较和排序变得更加简单。

### 1. **基本概念**

移码的基本思想是将真实的指数值加上一个偏移量，使得即使是负数在存储时也表现为非负值。这种方式使得计算机在处理有符号数字时不必考虑正负符号的问题。

### 2. **移码的计算**

- **偏置（Bias）**：移码的偏置是固定值，决定了加在真实值上的常数。对于 \(k\) 位移码，偏置可以计算为：
  $$
  \text{Bias} = 2^{(k-1)} - 1
  $$
 
- **计算移码值**：
  $$ 
  \text{移码值} = \text{实际值} + \text{Bias} 
  $$

### 3. **示例**

以 6 位移码为例：

1. **计算偏置**：
   - \(k = 6\)，
   - 所以偏置 (Bias) 为：
   $$
   \text{Bias} = 2^{(6-1)} - 1 = 31
   $$

2. **真实值转换为移码**：
   - 假设要表示实际值为 -5，先计算移码值：
   $$
   \text{移码值} = -5 + 31 = 26
   $$
   - 将 26 转换为二进制即为`011010`。

3. **表示范围**：
   - 在 6 位移码中，可以表示的值范围是从 \(0\) 到 \(2^6 - 1 = 63\)。这是因为 6 位的二进制数可以从 \(000000\)（代表 0）到 \(111111\)（代表 63）。
   - 移码表示的值范围为：
     - 最小值：\(0 - \text{Bias} = -31\)
     - 最大值：\(63 - \text{Bias} = 32\)
   - 因此，实际范围从 \(-31\) 到 \(32\)。
   - **移码的范围**（0 到 63）表示了移码可以存储的可能置信等级。它是一个逻辑的范围，用于表示阶码。
   - **实际范围**（-31 到 32）则表示这个移码值在实际数值上的意义，特别是在浮点数表示中，这些阶码调整表示的实数的大小：
     - 比如，阶码为 \(0\) 时，实际指数为 \(-31\)，表示浮点数的最小值。
     - 阶码为 \(63\) 时，实际指数为 \(32\)，则表示浮点数的最大值。


### 4. **在浮点数中的应用**

在 IEEE 754 浮点数标准中，指数部分通常使用移码表示。这确保了指数的负值能够被简单存储与比较。例如，使用 8 位移码时，偏置为 127：

- 移码的存储使得：
  - 真实指数 \(e\) 的存储：
  $$
  \text{存储值} = e + 127
  $$

### 5. **优点与缺点**

- **优点**：
  - 简化了比较操作，因为所有移码值均为非负数。
  - 允许更容易地处理正负数。

- **缺点**：
  - 移码值在解释时需要加上偏置，增加了一定的复杂性。
  - 浮点数应用中，增加了对存储空间的需求。

